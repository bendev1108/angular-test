<section class="container">
  <div class="row">
    <div class="col-lg-6 mx-auto">
      <h3>สมัครสมาชิก</h3>
      <form #myForm="ngForm" class="needs-validation" novalidate>
        <div class="form-group">
          <label for="exampleFormControlSelect1">จังหวัด</label>
          <select #province="ngModel" ngModel name="province" class="form-control" id="exampleFormControlSelect1"
            required>
            <option value="">--กรุณาเลือกจังหวัด</option>
            <option *ngFor="let p of users.province" [value]="p.id"> {{ p.name }} </option>
          </select>
          <div class="alert alert-danger" *ngIf="province.invalid && (province.dirt || province.touched)">
            <span>กรุณาเลือกจังหวัด</span>
          </div>
        </div>
        <div class="form-group">
          <label for="exampleFormControlInput1">ชื่อ-สกุล</label>
          <input [ngClass]="{ 'is-invalid': fullname.invalid && (fullname.dirt || fullname.touched) }"
            #fullname="ngModel" ngModel name="fullname" type="text" class="form-control" id="exampleFormControlInput1"
            required>
          <div class="invalid-feedback">
            <span>กรุณากรอกชื่อ-สกุล</span>
          </div>
        </div>
        <div class="form-group">
          <label for="exampleFormControlInput2">อีเมลล์</label>
          <input [ngClass]="{ 'is-invalid': email.invalid && (email.dirt || email.touched) }" #email="ngModel" ngModel name="email" type="email" class="form-control" id="exampleFormControlInput2"
            placeholder="name@example.com" required pattern="[a-zA-Z0-9._\-]+@[a-zA-Z0-9.\-]+\.[a-zA-Z]{2,4}$">
            <div class="invalid-feedback">
              <span *ngIf="email.hasError('required')">กรุณากรอกอีเมลล์ด้วย</span>
              <span *ngIf="email.hasError('pattern')">รูปแบบอีเมลล์ไม่ถูกต้อง</span>
            </div>
        </div>
        <div class="form-group">
          <label for="exampleInputPassword1">รหัสผ่าน</label>
          <input [ngClass]="{ 'is-invalid': password.invalid && (password.dirt || password.touched) }" #password="ngModel" ngModel name="password" type="password" class="form-control" id="exampleInputPassword1"
            placeholder="Password" required minlength="3">
            <div class="invalid-feedback">
              <span *ngIf="password.hasError('required')">กรุณากรอกรหัสผ่านด้วย</span>
              <span *ngIf="password.hasError('minlength')">กรุณากรอกรหัสผ่าน 3 ตัวขึ้นไป</span>
            </div>
        </div>
        <button type="submit" [disabled]="myForm.invalid" class="btn btn-primary" (click)="register(myForm.value)">สมัครสมาชิก</button>
      </form>

      {{ myForm.value | json }}

    </div>

  </div>
</section>